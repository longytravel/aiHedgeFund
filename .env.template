# AIHedgeFund Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (it contains secrets!)

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=AIHedgeFund
APP_ENV=development
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8000

# ============================================================================
# Database Configuration (PostgreSQL 18.1)
# ============================================================================
POSTGRES_USER=aihedgefund
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=aihedgefund
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://aihedgefund:your_secure_password_here@localhost:5432/aihedgefund

# ============================================================================
# Redis Configuration (Caching & Message Broker)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0
REDIS_URL=redis://:your_secure_redis_password_here@localhost:6379/0

# ============================================================================
# LLM Provider API Keys (Multi-Provider - Epic 1 Story 1.8)
# ============================================================================

# OpenAI (GPT-4, GPT-3.5-turbo)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=org-your-openai-org-id-here  # Optional

# Anthropic (Claude 3)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Google AI (Gemini)
GOOGLE_API_KEY=your-google-api-key-here

# LLM Configuration
LLM_PROVIDER=openai                     # Primary provider: openai, anthropic, google, mock
LLM_FALLBACK_PROVIDERS=anthropic,google # Fallback providers (comma-separated)
LLM_MODEL=gpt-4                         # Default model to use
LLM_TEMPERATURE=0.7                     # Creativity level (0.0-1.0)
LLM_MAX_TOKENS=2000                     # Max response length
LLM_TIMEOUT=30                          # Request timeout (seconds)

# Mock Mode (Zero-Cost Development - HP-01)
USE_MOCK_LLM=true                       # Set to false for real LLM calls

# ============================================================================
# Data Provider API Keys (Epic 1 Stories 1.3, 1.4)
# ============================================================================

# EODHD (Fundamentals, Macro Data) - £85/month
# Register: https://eodhd.com/pricing
EODHD_API_KEY=your-eodhd-api-key-here
EODHD_BASE_URL=https://eodhd.com/api

# CityFALCON (UK RNS, Insider Trading, Sentiment) - £30/month
# Register: https://www.cityfalcon.com/pricing
CITYFALCON_API_KEY=your-cityfalcon-api-key-here
CITYFALCON_BASE_URL=https://www.cityfalcon.com/api

# Interactive Brokers (Real-Time Quotes, Trading) - £10/month
# Register: https://www.interactivebrokers.com/
IBKR_USERNAME=your-ibkr-username-here
IBKR_PASSWORD=your-ibkr-password-here
IBKR_ACCOUNT=your-ibkr-account-number-here
IBKR_PAPER_TRADING=true                 # Use paper trading account (safe for testing)

# ============================================================================
# Security Settings (Epic 1 Story 1.5)
# ============================================================================
SECRET_KEY=your-secret-key-for-encryption-here  # Generate with: openssl rand -hex 32
API_KEY_ROTATION_DAYS=90                        # Rotate API keys every N days
ENABLE_API_AUTH=false                           # Enable API authentication (Phase 2)
ALLOWED_HOSTS=localhost,127.0.0.1               # Comma-separated list

# ============================================================================
# Logging & Monitoring (Epic 1 Story 1.6)
# ============================================================================
LOG_LEVEL=INFO                          # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json                         # json or text
LOG_FILE=logs/aihedgefund.log
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_COST_TRACKING=true

# Cost Budget (£200/month target)
MONTHLY_BUDGET_GBP=200
LLM_BUDGET_WARNING_THRESHOLD=0.8        # Warn at 80% of budget

# ============================================================================
# Automation & Scheduling (Epic 6)
# ============================================================================
OVERNIGHT_BATCH_START_TIME=01:00        # 1am GMT
OVERNIGHT_BATCH_END_TIME=07:00          # 7am GMT
ENABLE_SCHEDULER=true
SCHEDULER_TIMEZONE=Europe/London

# Email Notifications (Future)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-app-password-here
SMTP_FROM=aihedgefund@yourdomain.com
SMTP_TO=your-email@gmail.com           # Comma-separated for multiple

# ============================================================================
# Testing Configuration (Sprint 0)
# ============================================================================
TEST_DATABASE_URL=sqlite+aiosqlite:///:memory:  # In-memory SQLite for fast tests
TEST_MODE=false                                  # Enable test mode
PYTEST_MOCK_EXTERNAL_APIS=true                   # Mock all external APIs in tests

# ============================================================================
# Feature Flags (Configuration-First - Epic 2 Story 2.11)
# ============================================================================
ENABLE_DISCOVERY_AGENTS=true
ENABLE_ANALYSIS_AGENTS=true
ENABLE_PORTFOLIO_TRACKING=true
ENABLE_WATCHLIST=true
ENABLE_AUTOMATED_TRADING=false          # Manual trading only in MVP

# Agent Configuration
MAX_CONCURRENT_AGENTS=5                 # Limit concurrent agent execution
AGENT_TIMEOUT=60                        # Agent execution timeout (seconds)
SIGNAL_CONVERGENCE_THRESHOLD=3          # Min signals required for routing

# ============================================================================
# UK Market Specific Settings
# ============================================================================
MARKET_TIMEZONE=Europe/London
MARKET_OPEN_TIME=08:00
MARKET_CLOSE_TIME=16:30
MARKET_TRADING_DAYS=MON,TUE,WED,THU,FRI
MARKET_CURRENCY=GBP

# ============================================================================
# Development Tools (Optional)
# ============================================================================
PGADMIN_EMAIL=admin@aihedgefund.local
PGADMIN_PASSWORD=devpassword
PGADMIN_PORT=5050

# ============================================================================
# Notes for Setup (HP-03: API Key Acquisition)
# ============================================================================
# 1. Copy this file to .env: cp .env.template .env
# 2. Fill in your actual API keys and passwords
# 3. NEVER commit .env to git
# 4. Use strong passwords (generate with: openssl rand -base64 32)
# 5. Start with USE_MOCK_LLM=true for zero-cost development
# 6. Register for data provider APIs:
#    - EODHD: https://eodhd.com/pricing (£85/month)
#    - CityFALCON: https://www.cityfalcon.com/pricing (£30/month)
#    - IBKR: https://www.interactivebrokers.com/ (paper trading free)
# 7. LLM API keys can start with free tiers:
#    - OpenAI: https://platform.openai.com/api-keys
#    - Anthropic: https://console.anthropic.com/
#    - Google: https://makersuite.google.com/app/apikey
